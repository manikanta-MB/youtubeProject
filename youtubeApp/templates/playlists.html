<!DOCTYPE html>
{% load static %}
<html>
    <head>
        <title>PlayLists</title>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="{% get_static_prefix %}css/playlists.css">
        <style>
            #user-options > div{
                padding: 10px;
            }
            #user-options {
                position:absolute;
                width: 150px;
                background-color: #f1f1f1;
                top: 0;
                right: 15%;
                z-index: 2;
                animation-name: user-options-animation;
                animation-duration: 0.3s;
            }
            @keyframes user-options-animation {
                from { top: -100px;}
                to { top: 0;}
            }
            aside {
                background-color: #f1f1f1;
                width: 15%;
                position: fixed;
                height: 70%;
                overflow: auto;
            }
            aside > div {
                position: relative;
            }
            aside > div > div {
                width: 110px;
                border-radius: 5px;
                padding: 3px 5px;
                position: absolute;
                color: white;
                background-color: black;
                top: -2px;
                left: 30px;
                display: none;
            }
            aside > div > i:hover,
            aside > div > div:hover
            {
                cursor: pointer;
            }
        </style>
    </head>
    <body id="{{user}}">
        <div class="container">
            <header>
                <div class="brand-logo">
                    <img src="{% get_static_prefix %}images/youtube_brand.jpg" alt="Youtube Brand Image">
                </div>
                <div class="search">
                    <input type="text" placeholder="Search.." name="search">
                    <button type="button"><i class="fa fa-search"></i></button>
                </div>
                {%if user%}
                    <div class="profile-section">
                        {%if user.profile%}
                            <div style="float:right"><img id="profile" src="{{user.profile.url}}" alt="Profile Photo" class="img-circle" width="50" height="50"></div>
                        {%else%}
                        <div style="float: right;"><i id="profile" class="fa fa-user-circle-o" style="font-size:36px"></i></div>
                        {%endif%}
                        <div class="upload-video" style="float: right;"><span class="material-icons" style="font-size:36px">video_call</span></div>
                    </div>
                {%else%}
                    <div class="sign-in">
                        <button>
                            <i class='far fa-user-circle' style='font-size:16px;'></i>
                            SIGN IN
                        </button>
                    </div>
                {%endif%}
                <div id="user-options" style="display: none;">
                    <div><a href="#">Change Profile</a></div>
                    <div><a href="#">Your Videos</a></div>
                    <div><a href="/youtubeApp/playlists/">PlayLists</a></div>
                    <div><a href="/youtubeApp/logout/">Logout</a></div>
                </div>
            </header>
            <hr>
            <aside>
                {% for playlist in playlists %}
                    <div>
                        <span id="{{playlist.id}}">{{playlist.name}}</span>
                        <div>Remove playlist</div>
                        <i style="float: right;" class="material-icons">more_vert</i>
                    </div>
                {% endfor %}
            </aside>
            <div id="playlist-create-form">
                <div id="playlist-error" style="color: red;display: none;">PlayList Already existed</div>
                <input type="text" value="" class="form-control" placeholder="PlayList Name...">
                <div onclick="addPlayList()" class="btn btn-primary">Create</div>
            </div>
            <div class="playlists-grid-container">
            </div>
        </div>
        <script>
            document.querySelector('.sign-in > button').addEventListener("click",function(){
                window.location = "/youtubeApp/signin/"
            });
        </script>
        <script src="{%get_static_prefix%}js/playlists.js"></script>
    </body>
</html>